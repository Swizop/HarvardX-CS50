<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
        <title>Trivia!</title>

        <script>
            function listen()
            {
                let c = document.getElementById("Nay");
                let list = document.getElementsByClassName("button");
                let s = document.getElementById("tfSub");

                function add_text(str, nr)
                {
                    let div = document.getElementsByClassName("section")[nr];
                    p = document.getElementById("text" + nr.toString());
                    if(p != null)
                        p.innerHTML = str;
                    else
                    {
                        p = document.createElement("p");
                        p.id = "text" + nr.toString();
                        p.innerHTML = str;
                        div.appendChild(p);
                    }
                }


                function f()
                {
                    for(var i = 0; i < list.length; i++)
                        list[i].style.backgroundColor = "white";
                    c.style.backgroundColor = "green";
                    add_text("Correct!", 0);
                }

                function g(city)
                {
                    for(var i = 0; i < list.length; i++)
                        list[i].style.backgroundColor = "white";
                    city.style.backgroundColor = "red";
                    add_text("Incorrect", 0);
                }

                c.addEventListener("click", f);
                list[0].addEventListener("click", () => {g(list[0])})
                list[2].addEventListener("click", () => {g(list[2])})

                document.getElementById("textform").addEventListener("submit", () => {
                    event.preventDefault();
                    if(s.value.toLowerCase().trim() === 'paris')
                    {
                        s.style.backgroundColor = "green";
                        add_text("Correct!", 1);
                    }
                    else
                    {
                        s.style.backgroundColor = "red";
                        add_text("Incorrect", 1);
                    }
                })


                s.addEventListener("keydown", () => {s.style.backgroundColor = "white";
                p = document.getElementById("text1");
                if(p != null)
                    p.innerHTML = "";})

            }

            document.addEventListener('DOMContentLoaded', listen);
        </script>

    </head>
    <body>

        <div class="jumbotron">
            <h1>Trivia!</h1>
        </div>

        <div class="container">

            <div class="section">
                <h2>Part 1: Multiple Choice </h2>
                <hr>

                <h3>Which is the capital of Myanmar?</h3>
                <form>
                    <input type="button" class="button" id="Kath" value="Kathmandu" name="capital">
                    <input type="button" class="button" id="Nay" value="Naypyidaw" name="capital">
                    <input type="button" class="button" id="Dacc" value="Dacca" name="capital">
                </form>

            </div>

            <div class="section">
                <h2>Part 2: Free Response</h2>
                <hr>

                <h3>What is the capital city of France?</h3>
                <form id = "textform">
                    <input id="tfSub" type="text" placeholder="Your answer here">
                    <input type="submit" value="Submit" id="submit">
                </form>
            </div>

        </div>
    </body>
</html>
